<%- title @song.title -%>
<%- content_for :header do -%>
 <style type="text/css">
 html,body {
   overflow: hidden;
 }
 </style>
<%- end -%>
<div id='container'>
<%- @song.phrases.each_with_index do |phrase, idx| %>
    <div id="<%= 'p' + idx.to_s %>" class="song shadow <%= idx > 0 ? 'hidden' : '' %>"><pre><%= rubify  phrase %></pre></div>
<%- end -%>

<script type="text/javascript">
    $(function () {
        init();
        keybind();
    });

    function init() {
        var p0 = $('#p0');
        var first_part = p0.get(0);
        var pre_element = p0.find('pre').get(0);
        pre_element.style.position = "relative";
        resize(first_part);
        pre_element.style.position = "absolute";
        centering(first_part);
    }
    function keybind() {
        $(document).keydown(function(event) {
            if (event.keyCode == 38) {
                return prev();
            } else if (event.keyCode == 40) {
                return next();
            }
        });
    }
</script>
</div>
